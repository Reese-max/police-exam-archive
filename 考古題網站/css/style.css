:root{--primary:#2563eb;--primary-light:#3b82f6;--accent:#6366f1;--bg:#f8fafc;--card-bg:#ffffff;--border:#e2e8f0;--text:#1e293b;--text-light:#64748b;--text-muted:#94a3b8;--success:#10b981;--warning:#f59e0b;--danger:#ef4444;--shadow-sm:0 1px 2px rgba(0,0,0,0.05);--shadow-md:0 4px 6px -1px rgba(0,0,0,0.07),0 2px 4px -2px rgba(0,0,0,0.05);--shadow-lg:0 10px 15px -3px rgba(0,0,0,0.08),0 4px 6px -4px rgba(0,0,0,0.05);--radius:12px;--sidebar-w:280px;}*{margin:0;padding:0;box-sizing:border-box;}a,button,input,select,[role="button"]{touch-action:manipulation;-webkit-tap-highlight-color:transparent;}html{scroll-behavior:smooth;scroll-padding-top:140px;}@media (prefers-reduced-motion:reduce){html{scroll-behavior:auto;}*,*::before,*::after{animation-duration:0.01ms !important;transition-duration:0.01ms !important;}}body{font-family:"Noto Sans TC","Microsoft JhengHei",-apple-system,sans-serif;background:var(--bg);color:var(--text);line-height:1.7;overflow-x:hidden;-webkit-font-smoothing:antialiased;}.sidebar{position:fixed;top:0;left:0;width:var(--sidebar-w);height:100vh;background:#0f172a;color:#fff;overflow-y:auto;z-index:100;padding:1.5rem 0;}.sidebar::-webkit-scrollbar{width:6px;}.sidebar::-webkit-scrollbar-track{background:transparent;}.sidebar::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.15);border-radius:3px;}.sidebar::-webkit-scrollbar-thumb:hover{background:rgba(255,255,255,0.25);}.sidebar-title{font-size:1.1rem;font-weight:700;padding:0 1.25rem 1rem;border-bottom:1px solid rgba(255,255,255,0.1);margin-bottom:0.75rem;display:flex;align-items:center;justify-content:space-between;letter-spacing:0.02em;}.sidebar-home{padding:0.5rem 1.25rem;font-size:0.85rem;color:rgba(255,255,255,0.6);text-decoration:none;transition:all 0.2s cubic-bezier(0.4,0,0.2,1);border-bottom:1px solid rgba(255,255,255,0.06);margin-bottom:0.5rem;min-height:44px;display:flex;align-items:center;}.sidebar-home:hover{color:#fff;background:rgba(255,255,255,0.08);}.sidebar-year{padding:0.4rem 1.25rem;font-size:0.95rem;font-weight:600;color:rgba(255,255,255,0.6);cursor:pointer;user-select:none;min-height:44px;display:flex;align-items:center;border-left:3px solid transparent;transition:all 0.2s cubic-bezier(0.4,0,0.2,1);}.sidebar-year:hover{color:#fff;background:rgba(255,255,255,0.06);}.sidebar-year.active{color:#fff;border-left-color:var(--accent);}.sidebar-subjects{display:none;padding:0.25rem 0;}.sidebar-year.active + .sidebar-subjects{display:block;}.sidebar-link{display:flex;align-items:center;padding:0.3rem 1.25rem 0.3rem 2rem;font-size:0.82rem;color:rgba(255,255,255,0.5);text-decoration:none;transition:all 0.2s cubic-bezier(0.4,0,0.2,1);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-height:44px;}.sidebar-link:hover{color:#fff;background:rgba(255,255,255,0.08);padding-left:2.25rem;}.sidebar-toggle{width:36px;height:36px;border-radius:50%;background:rgba(255,255,255,0.1);color:rgba(255,255,255,0.6);border:none;cursor:pointer;font-size:0.75rem;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all 0.2s cubic-bezier(0.4,0,0.2,1);}.sidebar-toggle:hover{background:rgba(255,255,255,0.2);color:#fff;}body.sidebar-collapsed .sidebar{transform:translateX(-100%);}body.sidebar-collapsed .main{margin-left:0;}.sidebar-reopen{display:none;position:fixed;top:1rem;left:0.75rem;z-index:101;width:44px;height:44px;border-radius:var(--radius);background:var(--primary);color:#fff;border:none;cursor:pointer;font-size:0.85rem;align-items:center;justify-content:center;box-shadow:var(--shadow-md);transition:all 0.2s cubic-bezier(0.4,0,0.2,1);}.sidebar-reopen:hover{background:var(--primary-light);transform:scale(1.05);}body.sidebar-collapsed .sidebar-reopen{display:flex;}.main{margin-left:var(--sidebar-w);padding:2rem 2.5rem;max-width:960px;transition:margin-left 0.3s cubic-bezier(0.4,0,0.2,1);}.page-title{font-size:1.8rem;font-weight:800;color:var(--primary);margin-bottom:0.5rem;letter-spacing:-0.01em;}.page-subtitle{color:var(--text-light);font-size:0.95rem;margin-bottom:2rem;}.year-section{margin-bottom:3rem;}.year-heading{font-size:1.4rem;font-weight:700;color:var(--primary);border-bottom:3px solid var(--accent);padding-bottom:0.5rem;margin-bottom:1.5rem;background:linear-gradient(90deg,rgba(99,102,241,0.06),transparent);padding-left:0.5rem;border-radius:4px 4px 0 0;}.subject-card{background:var(--card-bg);border:1px solid var(--border);border-radius:16px;margin-bottom:1.5rem;overflow:hidden;box-shadow:var(--shadow-sm);transition:all 0.2s cubic-bezier(0.4,0,0.2,1);}.subject-card:hover{box-shadow:var(--shadow-md);transform:translateY(-2px);}.subject-header{background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;padding:1rem 1.5rem;cursor:pointer;user-select:none;display:flex;justify-content:space-between;align-items:center;}.subject-header h3{font-size:1rem;font-weight:600;flex:1;min-width:0;}.subject-toggle{font-size:1.2rem;transition:transform 0.25s cubic-bezier(0.4,0,0.2,1);flex-shrink:0;margin-left:0.75rem;}.subject-card.open .subject-toggle{transform:rotate(180deg);}.subject-body{display:none;padding:1.5rem;}.subject-card.open .subject-body{display:block;animation:slideDown 0.3s cubic-bezier(0.4,0,0.2,1);}.subject-card.open .subject-header{box-shadow:0 2px 8px rgba(37,99,235,0.15);}@keyframes slideDown{from{opacity:0;transform:translateY(-10px);}to{opacity:1;transform:translateY(0);}}.exam-meta-bar{display:flex;flex-wrap:wrap;gap:0.4rem;margin-bottom:1rem;}.meta-tag{font-size:0.78rem;padding:0.25rem 0.7rem;border-radius:8px;background:linear-gradient(135deg,#f1f5f9,#e2e8f0);color:var(--text-light);font-weight:500;}.exam-content-v2{padding:0.5rem 0;}.exam-metadata{background:#f8fafc;border:1px solid var(--border);border-radius:10px;padding:0.75rem 1rem;margin-bottom:1rem;font-size:0.82rem;color:var(--text-light);line-height:1.6;}.exam-note{font-size:0.82rem;color:var(--text-light);padding:0.2rem 0 0.2rem 1rem;border-left:3px solid var(--border);margin-bottom:0.25rem;}.reading-passage{font-size:0.88rem;line-height:1.8;color:var(--text);background:#f8fafc;border-left:3px solid var(--primary);padding:0.75rem 1rem;margin:0.75rem 0 0.25rem;border-radius:0 8px 8px 0;overflow-wrap:break-word;word-break:break-word;}.passage-qnum{display:inline-block;background:var(--primary);color:#fff;font-weight:700;padding:0 0.4em;border-radius:4px;font-size:0.92em;line-height:1.5;margin:0 0.1em;}.exam-section-marker{font-size:0.95rem;font-weight:700;color:var(--primary);padding:0.75rem 0.5rem 0.4rem;margin-top:0.5rem;border-top:1px solid var(--border);background:linear-gradient(90deg,rgba(37,99,235,0.05),transparent);border-radius:4px;}.essay-question{font-size:0.92rem;line-height:1.85;padding:0.75rem 0 0.5rem;border-bottom:1px dashed #e2e8f0;margin-bottom:0.5rem;text-indent:-1.5em;padding-left:1.5em;overflow-wrap:break-word;word-break:break-word;}.mc-question{padding:0.6rem 0 0.25rem;border-top:1px solid #f1f5f9;margin-top:0.4rem;display:flex;gap:0.5rem;align-items:baseline;overflow-wrap:break-word;word-break:break-word;}.mc-question:first-child,.exam-section-marker + .mc-question,.exam-note + .mc-question{border-top:none;margin-top:0;}.q-number{display:inline-flex;align-items:center;justify-content:center;min-width:28px;height:28px;border-radius:50%;background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;font-size:0.78rem;font-weight:700;flex-shrink:0;box-shadow:0 1px 3px rgba(37,99,235,0.2);}.q-text{font-size:0.92rem;line-height:1.75;overflow-wrap:break-word;word-break:break-word;}.q-block{padding-bottom:0.75rem;margin-bottom:0.6rem;border-bottom:1px solid var(--border);position:relative;}.q-block::after{content:'';position:absolute;bottom:-1px;left:2.3rem;right:0;height:1px;background:linear-gradient(to right,var(--border),transparent 90%);}.q-block:last-child{border-bottom:none;margin-bottom:0;}.q-block:last-child::after{display:none;}.mc-options{padding-left:2.3rem;margin:0.2rem 0 0.15rem;}.mc-opt{display:flex;gap:0.4rem;padding:0.25rem 0.4rem;align-items:baseline;border-radius:8px;transition:all 0.15s ease;cursor:default;margin:0.1rem -0.4rem;}.mc-opt:hover{background:rgba(99,102,241,0.06);}.opt-label{font-weight:700;color:var(--accent);flex-shrink:0;font-size:0.88rem;}.opt-text{font-size:0.9rem;line-height:1.7;overflow-wrap:break-word;word-break:break-word;}.q-answer{display:none;font-size:0.85rem;color:var(--success);font-weight:700;padding:0.45rem 0.85rem;margin:0.4rem 0 0.15rem 2.3rem;background:linear-gradient(135deg,#f0fdf4,#dcfce7);border-left:3px solid var(--success);border-radius:0 8px 8px 0;letter-spacing:0.02em;}.q-answer::before{content:'\2713 ';font-weight:800;margin-right:0.15em;}.q-block.show-answer .q-answer{display:block;animation:answerFadeIn 0.3s ease;}.q-answer.revealed{display:block;animation:answerFadeIn 0.3s ease;}@keyframes answerFadeIn{from{opacity:0;transform:translateX(-8px);}to{opacity:1;transform:translateX(0);}}html.dark .q-answer{color:var(--success);background:linear-gradient(135deg,#052e16,#064e3b);border-left-color:var(--success);box-shadow:0 1px 3px rgba(0,0,0,0.2);}html.dark .year-heading{background:linear-gradient(90deg,rgba(165,180,252,0.08),transparent);}html.dark .q-block{border-bottom-color:#334155;}html.dark .mc-opt:hover{background:rgba(165,180,252,0.06);}.search-box{position:sticky;top:0;background:var(--bg);padding:1rem 0;z-index:50;margin-bottom:1rem;}.search-input{width:100%;padding:0.75rem 1rem 0.75rem 2.75rem;border:2px solid var(--border);border-radius:var(--radius);font-size:1rem;font-family:inherit;outline:none;transition:all 0.2s cubic-bezier(0.4,0,0.2,1);background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='%2394a3b8' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='11' cy='11' r='8'/%3E%3Cline x1='21' y1='21' x2='16.65' y2='16.65'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:0.85rem center;background-size:18px;}.search-input:focus{border-color:var(--primary);box-shadow:0 0 0 4px rgba(37,99,235,0.12);}.search-filters{display:flex;gap:0.4rem;flex-wrap:wrap;margin-top:0.5rem;}.filter-chip{padding:0.5rem 0.75rem;border:1.5px solid var(--border);border-radius:999px;background:var(--card-bg);color:var(--text-light);font-size:0.78rem;min-height:44px;display:inline-flex;align-items:center;font-family:inherit;cursor:pointer;transition:all 0.2s cubic-bezier(0.4,0,0.2,1);user-select:none;}.filter-chip:hover{border-color:var(--primary);color:var(--primary);}.filter-chip.active{background:var(--primary);color:#fff;border-color:var(--primary);}.search-stats{font-size:0.82rem;color:var(--text-light);margin-top:0.4rem;}.stats-bar{display:flex;gap:1rem;padding:1rem 1.5rem;background:var(--card-bg);border:1px solid var(--border);border-radius:var(--radius);margin-bottom:2rem;box-shadow:var(--shadow-sm),inset 0 1px 0 rgba(255,255,255,0.5);}.stat-item{text-align:center;background:var(--card-bg);border-radius:10px;padding:0.75rem 1.25rem;flex:1;}.stat-value{font-size:1.5rem;font-weight:800;background:linear-gradient(135deg,var(--primary),var(--accent));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}.stat-label{font-size:0.78rem;color:var(--text-light);}:focus-visible{outline:3px solid var(--accent);outline-offset:2px;border-radius:4px;}.skip-link{position:absolute;top:-100%;left:1rem;background:var(--primary);color:#fff;padding:0.5rem 1rem;border-radius:0 0 6px 6px;z-index:999;text-decoration:none;font-size:0.9rem;}.skip-link:focus{top:0;}@media print{.sidebar,.search-box,.toolbar,.dark-toggle,.back-to-top,.hamburger,.sidebar-reopen,.sidebar-overlay,.practice-score,.skip-link,.self-score-panel,.export-panel{display:none !important;}.main{margin-left:0;max-width:100%;}.subject-body{display:block !important;}.answer-section{display:block !important;}.print-hidden{display:none !important;}.print-header{display:block !important;}.print-no-answers .answer-section{display:none !important;}@page{margin:1.5cm;}.subject-card{page-break-inside:avoid;break-inside:avoid;overflow:visible !important;}.subject-card + .subject-card{margin-top:1rem;}.year-heading{page-break-after:avoid;break-after:avoid;}body{background:white !important;color:#000 !important;}.year-section + .year-section{page-break-before:auto;}.exam-content-v2{page-break-inside:avoid;}h2.year-heading{page-break-after:avoid;}.answer-grid{grid-template-columns:repeat(auto-fill,minmax(50px,1fr));}.answer-cell{border:1px solid #ccc;}.answer-cell .q-ans{color:#2563eb;}}.toolbar{display:flex;gap:0.5rem;flex-wrap:wrap;margin-bottom:1.5rem;align-items:center;background:var(--card-bg);border-radius:var(--radius);padding:0.75rem;box-shadow:var(--shadow-sm);}.toolbar-btn{padding:0.55rem 1rem;border:1.5px solid transparent;border-radius:8px;background:transparent;color:var(--text);font-size:0.85rem;min-height:44px;display:inline-flex;align-items:center;font-family:inherit;cursor:pointer;transition:all 0.2s cubic-bezier(0.4,0,0.2,1);user-select:none;}.toolbar-btn:hover{background:#f1f5f9;color:var(--primary);}.toolbar-btn.active{background:var(--primary);color:#fff;border-color:var(--primary);}.bookmark-btn{background:none;border:none;cursor:pointer;font-size:1.2rem;padding:0.5rem;opacity:0.35;transition:all 0.2s cubic-bezier(0.4,0,0.2,1);line-height:1;flex-shrink:0;margin-left:0.25rem;min-width:44px;min-height:44px;display:inline-flex;align-items:center;justify-content:center;}.bookmark-btn:hover{opacity:0.7;}.bookmark-btn.active{opacity:1;color:#f59e0b;}.toolbar-btn.bookmark-filter.active{background:#fef3c7;color:#92400e;border-color:#fde68a;}.dark-toggle{position:fixed;bottom:2rem;left:2rem;z-index:200;width:44px;height:44px;border-radius:50%;background:var(--card-bg);border:2px solid var(--border);cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:var(--shadow-md);transition:all 0.3s cubic-bezier(0.4,0,0.2,1);overflow:hidden;}.dark-toggle:hover{border-color:var(--accent);transform:scale(1.1);}.dark-toggle svg{width:22px;height:22px;transition:transform 0.5s cubic-bezier(0.4,0,0.2,1);}.dark-toggle:active svg{transform:rotate(360deg);}.dark-icon-moon,.dark-icon-sun{display:block;}html.dark .dark-icon-moon{display:none;}html:not(.dark) .dark-icon-sun{display:none;}html.dark{--primary:#818cf8;--primary-light:#6366f1;--accent:#a5b4fc;--bg:#0f172a;--card-bg:#1e293b;--border:#334155;--text:#f1f5f9;--text-light:#94a3b8;--text-muted:#64748b;--success:#34d399;--warning:#fbbf24;--danger:#f87171;--shadow-sm:0 1px 2px rgba(0,0,0,0.2);--shadow-md:0 4px 6px -1px rgba(0,0,0,0.3),0 2px 4px -2px rgba(0,0,0,0.2);--shadow-lg:0 10px 15px -3px rgba(0,0,0,0.4),0 4px 6px -4px rgba(0,0,0,0.3);}html.dark .sidebar{background:#020617;}html.dark .subject-header{background:linear-gradient(135deg,#312e81,#4f46e5);}html.dark .search-input{background:#1e293b;color:#f1f5f9;border-color:#334155;}html.dark .search-input::placeholder{color:#64748b;}html.dark .toolbar{background:#1e293b;}html.dark .toolbar-btn{color:#f1f5f9;}html.dark .toolbar-btn:hover{background:#334155;}html.dark .toolbar-btn.active{background:#6366f1;border-color:#6366f1;}html.dark .filter-chip{background:#1e293b;color:#94a3b8;border-color:#334155;}html.dark .filter-chip.active{background:linear-gradient(135deg,#6366f1,#818cf8);color:#fff;border-color:#818cf8;box-shadow:0 2px 8px rgba(99,102,241,0.3);}html.dark .meta-tag{background:#334155;color:#cbd5e1;}html.dark .exam-metadata{background:#1e293b;border-color:#334155;}html.dark .exam-note{border-color:#334155;}html.dark .reading-passage{background:#1e293b;border-color:#6366f1;}html.dark .passage-qnum{background:#6366f1;color:#fff;}html.dark .stats-bar{background:var(--card-bg);border-color:var(--border);box-shadow:var(--shadow-sm),inset 0 1px 0 rgba(255,255,255,0.03);}html.dark .stat-item{background:transparent;}html.dark .stat-value{background:linear-gradient(135deg,#818cf8,#a5b4fc);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}html.dark .exam-section-marker{color:var(--primary);border-top-color:var(--border);background:linear-gradient(90deg,rgba(129,140,248,0.08),transparent);}html.dark .meta-tag{background:linear-gradient(135deg,#334155,#1e293b);}html.dark .subject-card.open .subject-header{box-shadow:0 2px 8px rgba(99,102,241,0.2);}html.dark .essay-question{border-bottom-color:#334155;}html.dark .mc-question{border-top-color:#334155;}html.dark .subject-card:hover{box-shadow:0 4px 16px rgba(0,0,0,0.4);}html.dark .toolbar-btn.bookmark-filter.active{background:#92400e;color:#fef3c7;border-color:#b45309;}html.dark .bookmark-btn.active{color:#fbbf24;}html.dark .dark-toggle{background:#1e293b;border-color:#334155;}.highlight{background:#fefcbf;padding:1px 3px;border-radius:3px;}.highlight.current{background:#fde68a;box-shadow:0 0 0 3px rgba(253,230,138,0.5);font-weight:600;}html.dark .highlight{background:#92400e;color:#fef3c7;}html.dark .highlight.current{background:#d97706;color:#0f172a;}.back-to-top{position:fixed;bottom:2rem;right:2rem;width:44px;height:44px;border-radius:50%;background:var(--primary);color:#fff;border:none;cursor:pointer;font-size:1.3rem;display:flex;align-items:center;justify-content:center;box-shadow:var(--shadow-md);opacity:0;visibility:hidden;transition:all 0.3s cubic-bezier(0.4,0,0.2,1);z-index:200;}.back-to-top.visible{opacity:1;visibility:visible;}.back-to-top:hover{background:var(--accent);transform:translateY(-2px);}html.dark .back-to-top{background:#6366f1;}.hamburger{display:none;position:fixed;top:1rem;left:1rem;z-index:300;width:44px;height:44px;border-radius:var(--radius);background:var(--primary);color:#fff;border:none;cursor:pointer;font-size:1.4rem;align-items:center;justify-content:center;box-shadow:var(--shadow-md);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);}.sidebar-overlay{display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.5);z-index:90;backdrop-filter:blur(2px);}.sidebar-overlay.active{display:block;}@media (max-width:768px){.hamburger{display:flex;}.sidebar-toggle{display:none;}.sidebar-reopen{display:none !important;}.sidebar{transform:translateX(-100%);}.sidebar.open,body.sidebar-collapsed .sidebar.open{transform:translateX(0);}.main{margin-left:0;padding:1rem;padding-top:4rem;max-width:100%;overflow-x:hidden;}.page-title{font-size:1.4rem;}.stats-bar{gap:0.5rem;padding:0.75rem;flex-wrap:wrap;justify-content:center;}.stat-item{padding:0.5rem 0.75rem;}.stat-value{font-size:1.2rem;}.search-input{font-size:16px;padding:0.6rem 0.75rem 0.6rem 2.5rem;}.search-filters{gap:0.3rem;overflow-x:auto;flex-wrap:nowrap;padding-bottom:0.25rem;}.filter-chip{white-space:nowrap;flex-shrink:0;}.toolbar{gap:0.4rem;padding:0.5rem;border-radius:var(--radius);}.year-heading{font-size:1.15rem;}.subject-header{padding:0.75rem 1rem;}.subject-header h3{font-size:0.88rem;}.subject-body{padding:1rem;}.subject-card{border-radius:var(--radius);}.essay-question{font-size:0.85rem;line-height:1.75;}.q-text{font-size:0.85rem;}.opt-text{font-size:0.83rem;}.mc-options{padding-left:1.6rem;}.q-answer{margin-left:1.6rem;}.back-to-top{bottom:1.5rem;right:1.5rem;}.dark-toggle{bottom:1.5rem;left:1.5rem;}.toolbar-btn{font-size:0.82rem;padding:0.5rem 0.75rem;justify-content:center;}.year-heading{font-size:1.2rem;padding-bottom:0.6rem;margin-bottom:1.25rem;}.q-block{padding-bottom:0.85rem;margin-bottom:0.7rem;}.q-answer{margin-left:1.6rem;margin-top:0.5rem;margin-bottom:0.2rem;}.q-block::after{left:1.6rem;}.answer-section{padding:0.75rem;border-radius:10px;}.answer-grid{grid-template-columns:repeat(auto-fill,minmax(50px,1fr));gap:0.3rem;}.answer-cell{padding:0.3rem 0.2rem;}.q-num{font-size:0.7rem;}.q-ans{font-size:0.8rem;}.practice-score{padding:0.5rem 1rem;font-size:0.85rem;}.self-score-panel{margin:0.5rem 0;padding:0.65rem 0.85rem;border-radius:12px;}.reveal-btn{padding:0.55rem 1.25rem;font-size:0.82rem;}.score-btn{padding:0.55rem 1.15rem;font-size:0.82rem;}.self-score-panel.scored::after{font-size:0.9rem;padding:0.4rem 1rem;}.subject-view-section{margin-bottom:2rem;}.sv-year-tag{font-size:0.65rem;padding:0.15rem 0.4rem;}.toolbar-select{font-size:0.82rem;padding:0.5rem;min-height:44px;width:100%;max-width:100%;overflow:hidden;text-overflow:ellipsis;}.search-jump{gap:0.3rem;}.search-jump button{font-size:0.8rem;padding:0.3rem 0.6rem;min-height:44px;}}.answer-section{margin-top:1rem;padding:1.25rem;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border:1px solid var(--border);border-radius:16px;border-left:4px solid var(--primary);}.answer-title{display:inline-block;font-size:0.82rem;font-weight:700;color:#fff;background:linear-gradient(135deg,var(--primary),var(--accent));padding:0.35rem 0.85rem;border-radius:8px;margin-bottom:0.75rem;letter-spacing:0.03em;box-shadow:0 2px 6px rgba(37,99,235,0.25);}.answer-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(64px,1fr));gap:0.4rem;}.answer-cell{display:flex;flex-direction:column;align-items:center;padding:0.55rem 0.4rem;background:var(--card-bg);border:1px solid var(--border);border-radius:10px;transition:all 0.2s cubic-bezier(0.4,0,0.2,1);min-height:48px;}.answer-cell:hover{transform:translateY(-2px) scale(1.03);box-shadow:var(--shadow-md);}.answer-cell:active{transform:scale(0.95);transition-duration:0.1s;}.answer-cell .q-num{font-size:0.7rem;color:var(--text-light);font-weight:700;background:#e2e8f0;border-radius:4px;padding:0.05rem 0.35rem;line-height:1.4;}.answer-cell .q-ans{font-size:0.95rem;font-weight:800;color:var(--primary);margin-top:0.1rem;}.answer-cell.corrected{border-color:var(--danger);background:#fef2f2;}.answer-cell.corrected .q-ans{color:var(--danger);text-decoration:line-through;}html.dark .answer-section{background:linear-gradient(135deg,#1e293b,#1a2332);border-color:#334155;border-left-color:var(--primary);}html.dark .answer-cell{background:#0f172a;border-color:#334155;}html.dark .answer-cell .q-num{background:#334155;}html.dark .answer-title{background:linear-gradient(135deg,#4f46e5,#6366f1);}html.dark .answer-cell.corrected{border-color:var(--danger);background:#450a0a;}.answer-cell.free-point{background:linear-gradient(135deg,#fefce8,#fef9c3);border-color:#facc15;animation:freePointPulse 2.5s ease-in-out infinite;}.answer-cell.free-point .q-ans{color:#b45309;font-size:0.85rem;font-weight:700;}html.dark .answer-cell.free-point{background:linear-gradient(135deg,#422006,#451a03);border-color:#a16207;animation:freePointPulse 2.5s ease-in-out infinite;}html.dark .answer-cell.free-point .q-ans{color:#fbbf24;}@keyframes freePointPulse{0%,100%{box-shadow:0 0 6px rgba(250,204,21,0.2);}50%{box-shadow:0 0 14px rgba(250,204,21,0.45);}}.figure-block{margin:0.75rem 0;text-align:center;}.figure-block img{max-width:100%;height:auto;border:1px solid var(--border);border-radius:10px;box-shadow:var(--shadow-sm);background:#fff;padding:0.5rem;}.figure-missing{margin:0.5rem 0;padding:0.6rem 1rem;background:linear-gradient(135deg,#fffbeb,#fef3c7);border:1px solid #fcd34d;border-left:4px solid #f59e0b;border-radius:10px;color:#92400e;font-size:0.85rem;font-weight:500;}.figure-missing::before{content:'\1F5BC\FE0F ';}html.dark .figure-block img{background:#1e293b;border-color:#334155;}html.dark .figure-missing{background:linear-gradient(135deg,#422006,#451a03);border-color:#92400e;border-left-color:#d97706;color:#fbbf24;}.mc-question[data-subtype="passage_fragment"]{border-left:3px solid #60a5fa;background:#eff6ff;padding:0.5rem 0.75rem 0.5rem 1rem;border-radius:8px;margin-bottom:0.3rem;position:relative;}.mc-question[data-subtype="passage_fragment"]::before{content:'\01F4D6 é–±è®€æ®µè½';display:inline-block;font-size:0.75rem;color:#2563eb;background:#dbeafe;padding:0.1rem 0.5rem;border-radius:6px;margin-right:0.5rem;vertical-align:middle;}html.dark .mc-question[data-subtype="passage_fragment"]{background:#1e293b;border-left-color:#818cf8;}html.dark .mc-question[data-subtype="passage_fragment"]::before{background:#312e81;color:#a5b4fc;}.search-jump{display:inline-flex;align-items:center;gap:0.5rem;margin-left:0.75rem;}.search-jump button{padding:0.35rem 0.7rem;border:1px solid var(--border);border-radius:8px;background:var(--card-bg);color:var(--text);font-size:0.82rem;cursor:pointer;font-family:inherit;transition:all 0.2s cubic-bezier(0.4,0,0.2,1);min-height:44px;min-width:44px;}.search-jump button:hover{border-color:var(--primary);color:var(--primary);}.hit-counter{font-size:0.82rem;color:var(--text-light);font-weight:600;min-width:3em;text-align:center;}html.dark .search-jump button{background:#1e293b;border-color:#334155;color:#f1f5f9;}.practice-mode .q-answer{display:none !important;}.practice-mode .q-answer.revealed{display:block !important;}.practice-mode .answer-section{display:none;}.practice-mode .answer-section.revealed{display:block;animation:answerReveal 0.4s cubic-bezier(0.4,0,0.2,1);}@keyframes answerReveal{from{opacity:0;transform:translateY(12px);}to{opacity:1;transform:translateY(0);}}.self-score-panel{display:flex;gap:1rem;align-items:center;justify-content:center;margin:1rem 0 0.75rem;flex-wrap:wrap;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border:1px solid var(--border);border-radius:14px;padding:0.85rem 1.25rem;box-shadow:var(--shadow-sm);min-height:52px;}.self-score-panel.scored.was-correct{background:linear-gradient(135deg,#f0fdf4,#dcfce7);border-color:#86efac;}.self-score-panel.scored.was-wrong{background:linear-gradient(135deg,#fef2f2,#fee2e2);border-color:#fca5a5;}.self-score-panel.free-point-scored{background:linear-gradient(135deg,#fffbeb,#fef3c7);border-color:#fcd34d;}.reveal-btn{display:inline-flex;align-items:center;padding:0.65rem 1.75rem;border:none;border-radius:999px;background:linear-gradient(135deg,var(--primary),var(--accent));color:#fff;font-size:0.88rem;font-weight:600;cursor:pointer;font-family:inherit;transition:all 0.25s cubic-bezier(0.4,0,0.2,1);min-height:44px;box-shadow:var(--shadow-sm);}.reveal-btn::before{content:'ðŸ‘ï¸ ';}.reveal-btn:hover{box-shadow:var(--shadow-md);transform:translateY(-2px);filter:brightness(1.08);}.reveal-btn:active{transform:translateY(0) scale(0.97);}.score-btn{padding:0.65rem 1.5rem;border-radius:999px;border:none;font-size:0.88rem;font-weight:600;cursor:pointer;font-family:inherit;transition:all 0.25s cubic-bezier(0.4,0,0.2,1);display:none;min-height:44px;color:#fff;box-shadow:var(--shadow-sm);}.score-btn.visible{display:inline-flex;align-items:center;}.score-btn.btn-correct{background:linear-gradient(135deg,#10b981,#059669);box-shadow:0 2px 8px rgba(16,185,129,0.25);}.score-btn.btn-correct:hover{box-shadow:0 4px 12px rgba(16,185,129,0.4);transform:translateY(-2px);}.score-btn.btn-wrong{background:linear-gradient(135deg,#f87171,#ef4444);box-shadow:0 2px 8px rgba(239,68,68,0.25);}.score-btn.btn-wrong:hover{box-shadow:0 4px 12px rgba(239,68,68,0.4);transform:translateY(-2px);}.score-btn:active{transform:translateY(0) scale(0.97);}.self-score-panel.scored .reveal-btn,.self-score-panel.scored .score-btn{display:none;}.self-score-panel.scored::after{content:attr(data-result);font-size:1rem;font-weight:700;padding:0.5rem 1.5rem;border-radius:999px;box-shadow:0 2px 8px rgba(0,0,0,0.15);animation:badgePop 0.35s cubic-bezier(0.34,1.56,0.64,1);}.self-score-panel.scored.was-correct::after{background:#15803d;color:#fff;}.self-score-panel.scored.was-wrong::after{background:#dc2626;color:#fff;}.self-score-panel.free-point-scored::after{background:#b45309;color:#fff;}@keyframes badgePop{from{opacity:0;transform:scale(0.5);}to{opacity:1;transform:scale(1);}}html.dark .self-score-panel{background:linear-gradient(135deg,#1e293b,#1a2332);border-color:#334155;}html.dark .self-score-panel.scored.was-correct{background:linear-gradient(135deg,#052e16,#064e3b);border-color:#065f46;}html.dark .self-score-panel.scored.was-wrong{background:linear-gradient(135deg,#450a0a,#7f1d1d);border-color:#991b1b;}html.dark .self-score-panel.free-point-scored{background:linear-gradient(135deg,#422006,#451a03);border-color:#92400e;}html.dark .self-score-panel.scored.was-correct::after{background:#059669;color:#fff;}html.dark .self-score-panel.scored.was-wrong::after{background:#ef4444;color:#fff;}html.dark .self-score-panel.free-point-scored::after{background:#d97706;color:#fff;}html.dark .score-btn.btn-correct{background:linear-gradient(135deg,#059669,#047857);}html.dark .score-btn.btn-wrong{background:linear-gradient(135deg,#ef4444,#dc2626);}.practice-score{display:none;position:sticky;top:0;z-index:55;background:linear-gradient(135deg,var(--primary),var(--accent),#8b5cf6);color:#fff;padding:0.75rem 1.5rem;border-radius:var(--radius);margin-bottom:1rem;font-size:0.92rem;align-items:center;gap:0.75rem;box-shadow:var(--shadow-lg);}.practice-score.visible{display:flex;flex-wrap:wrap;}.score-text{flex:1;font-weight:500;}.score-pct{font-size:1.15rem;font-weight:800;min-width:3.5em;text-align:center;background:rgba(255,255,255,0.25);padding:0.25rem 0.75rem;border-radius:999px;border:1px solid rgba(255,255,255,0.3);}.score-reset{padding:0.4rem 1rem;border:1.5px solid rgba(255,255,255,0.5);border-radius:999px;background:transparent;color:#fff;font-size:0.82rem;font-weight:600;cursor:pointer;font-family:inherit;transition:all 0.2s cubic-bezier(0.4,0,0.2,1);}.score-reset:hover{background:rgba(255,255,255,0.2);border-color:#fff;transform:translateY(-1px);}.score-reset:active{transform:translateY(0) scale(0.97);}html.dark .practice-score{background:linear-gradient(135deg,#312e81,#4f46e5,#6d28d9);}.subject-view-section{margin-bottom:3rem;}.subject-view-section .sv-heading{font-size:1.3rem;font-weight:700;color:var(--primary);border-bottom:3px solid var(--accent);padding-bottom:0.5rem;margin-bottom:1.5rem;}.sv-year-tag{display:inline-block;font-size:0.7rem;padding:0.15rem 0.5rem;border-radius:6px;background:var(--accent);color:#fff;margin-left:0.5rem;vertical-align:middle;font-weight:600;}html.dark .sv-year-tag{background:#6366f1;}.toolbar-sep{width:1px;height:28px;background:var(--border);margin:0 0.25rem;flex-shrink:0;}.toolbar-select{padding:0.55rem 0.75rem;border:1.5px solid var(--border);border-radius:8px;background:var(--card-bg);color:var(--text);font-size:0.85rem;font-family:inherit;cursor:pointer;min-height:44px;outline:none;transition:all 0.2s cubic-bezier(0.4,0,0.2,1);}.toolbar-select:focus{border-color:var(--primary);box-shadow:0 0 0 3px rgba(37,99,235,0.1);}html.dark .toolbar-select{background:#1e293b;color:#f1f5f9;border-color:#334155;}.toolbar-btn.practice-active{background:linear-gradient(135deg,#6366f1,#818cf8);color:#fff;border-color:#6366f1;box-shadow:0 2px 6px rgba(99,102,241,0.25);}html.dark .toolbar-btn.practice-active{background:linear-gradient(135deg,#4f46e5,#6366f1);border-color:#4f46e5;box-shadow:0 2px 6px rgba(99,102,241,0.3);}.main{transition:background-color 0.3s ease;}.sidebar{transition:transform 0.3s cubic-bezier(0.4,0,0.2,1),background-color 0.3s ease;}.subject-card,.stats-bar,.exam-metadata,.answer-section,.search-input,.toolbar-btn,.filter-chip,.dark-toggle,.back-to-top,.toolbar-select,.practice-score,.self-score-panel,.answer-cell{transition:background-color 0.3s ease,color 0.3s ease,border-color 0.3s ease,box-shadow 0.3s ease;}.toolbar-select:hover{border-color:var(--primary);}.reveal-btn:focus-visible,.score-btn:focus-visible,.search-jump button:focus-visible,.export-option:focus-visible,.export-cancel:focus-visible,.sidebar-home:focus-visible,.sidebar-link:focus-visible,.sidebar-year:focus-visible{outline:3px solid var(--accent);outline-offset:2px;}html.dark .reveal-btn{background:linear-gradient(135deg,#6366f1,#818cf8);color:#fff;}html.dark .reveal-btn:hover{box-shadow:0 4px 12px rgba(99,102,241,0.4);}.export-panel{background:var(--card-bg);border:1px solid var(--border);border-radius:var(--radius);padding:1rem;margin-bottom:1rem;box-shadow:var(--shadow-lg);}.export-title{font-size:0.9rem;font-weight:700;color:var(--primary);margin-bottom:0.75rem;}.export-option{display:block;width:100%;padding:0.6rem 1rem;margin-bottom:0.5rem;border:1.5px solid var(--border);border-radius:10px;background:var(--card-bg);color:var(--text);font-size:0.88rem;font-family:inherit;cursor:pointer;text-align:left;transition:all 0.2s cubic-bezier(0.4,0,0.2,1);min-height:44px;}.export-option:hover{border-color:var(--primary);color:var(--primary);background:rgba(37,99,235,0.04);}.export-cancel{display:block;margin-top:0.25rem;padding:0.5rem 0.75rem;border:none;background:transparent;color:var(--text-muted);font-size:0.8rem;font-family:inherit;cursor:pointer;min-height:44px;}.export-cancel:hover{color:var(--text);}html.dark .export-panel{background:#1e293b;border-color:#334155;}html.dark .export-option{background:#0f172a;border-color:#334155;color:#f1f5f9;}html.dark .export-option:hover{border-color:var(--accent);color:var(--accent);background:rgba(165,180,252,0.06);}html.dark .export-cancel{color:var(--text-muted);}html.dark .export-cancel:hover{color:var(--text);}.print-header{display:none;text-align:center;padding-bottom:1rem;margin-bottom:1.5rem;border-bottom:2px solid #2563eb;}.print-header h1{font-size:1.5rem;font-weight:800;color:#2563eb;margin-bottom:0.3rem;}.print-header p{font-size:0.82rem;color:#64748b;}@media (max-width:320px){.page-title{font-size:1.2rem;word-break:keep-all;}.page-subtitle{font-size:0.82rem;}.stats-bar{gap:0.4rem;padding:0.5rem;}.stat-item{padding:0.4rem 0.5rem;}.stat-value{font-size:1rem;}.stat-label{font-size:0.7rem;}.toolbar{gap:0.3rem;padding:0.5rem;}.toolbar-btn{font-size:0.75rem;padding:0.4rem 0.6rem;min-height:44px;}.toolbar-sep{display:none;}.toolbar-select{font-size:0.75rem;padding:0.4rem;}.subject-header{padding:0.6rem 0.75rem;}.subject-header h3{font-size:0.8rem;}.subject-body{padding:0.75rem;}.essay-question{font-size:0.8rem;text-indent:-1.2em;padding-left:1.2em;line-height:1.6;}.q-text{font-size:0.8rem;line-height:1.6;}.opt-text{font-size:0.78rem;line-height:1.6;}.mc-options{padding-left:1rem;}.q-answer{margin-left:1rem;}.q-block::after{left:1rem;}.filter-chip{font-size:0.72rem;padding:0.4rem 0.6rem;min-width:44px;text-align:center;}.export-panel{padding:0.75rem;}.export-option{font-size:0.8rem;padding:0.5rem 0.75rem;}.answer-grid{grid-template-columns:repeat(auto-fill,minmax(45px,1fr));}.self-score-panel{padding:0.5rem 0.65rem;border-radius:10px;gap:0.4rem;}.reveal-btn{padding:0.5rem 1rem;font-size:0.78rem;}.score-btn{padding:0.5rem 0.9rem;font-size:0.78rem;}.self-score-panel.scored::after{font-size:0.85rem;padding:0.35rem 0.85rem;}.practice-score{padding:0.4rem 0.75rem;font-size:0.75rem;}.score-text{white-space:nowrap;}.score-pct{font-size:0.9rem;padding:0.15rem 0.45rem;min-width:2.5em;}.score-reset{font-size:0.7rem;padding:0.25rem 0.5rem;}}.subject-card{content-visibility:auto;contain-intrinsic-size:auto 80px;}.subject-card.open{content-visibility:visible;}.mc-opt.correct{background:#dcfce7;border-left:4px solid #16a34a;color:#15803d;font-weight:600;}.mc-opt.correct::after{content:' \2713';color:#16a34a;font-weight:700;}.mc-opt.wrong{background:#fee2e2;border-left:4px solid #dc2626;color:#991b1b;text-decoration:line-through;opacity:0.75;}.mc-opt.wrong::after{content:' \2717';color:#dc2626;font-weight:700;}.mc-opt.correct-reveal{background:#dbeafe;border-left:4px solid #2563eb;font-weight:600;}.mc-opt.correct-reveal::after{content:' \2190 \6b63\78ba\7b54\6848';font-size:0.78rem;color:#2563eb;margin-left:0.3em;}html.dark .mc-opt.correct{background:#052e16;border-left-color:#22c55e;color:#86efac;}html.dark .mc-opt.correct::after{color:#22c55e;}html.dark .mc-opt.wrong{background:#450a0a;border-left-color:#f87171;color:#fca5a5;}html.dark .mc-opt.wrong::after{color:#f87171;}html.dark .mc-opt.correct-reveal{background:#1e1b4b;border-left-color:#818cf8;color:#c7d2fe;}html.dark .mc-opt.correct-reveal::after{color:#818cf8;}.toolbar-btn:active,.filter-chip:active{transform:scale(0.97);}.bookmark-btn:active{transform:scale(0.9);}@media (max-width:480px){.toolbar-sep{display:none;}.page-title{font-size:1.25rem;}}@media (min-width:769px) and (max-width:1240px){.main{max-width:calc(100vw - var(--sidebar-w) - 3rem);}body.sidebar-collapsed .main{max-width:960px;}}@media (min-width:1200px){.main{max-width:1100px;}}@media (max-width:768px){.search-filters{-webkit-overflow-scrolling:touch;scrollbar-width:none;padding-right:1.5rem;scroll-snap-type:x proximity;}.search-filters::-webkit-scrollbar{display:none;}.filter-chip{scroll-snap-align:start;}}@media (max-width:768px){.search-box::after{content:'';position:absolute;right:0;bottom:0.25rem;width:2rem;height:44px;background:linear-gradient(to right,rgba(248,250,252,0),var(--bg));pointer-events:none;z-index:1;}}html.dark .search-box::after{background:linear-gradient(to right,rgba(15,23,42,0),var(--bg));}@media (max-width:768px){.toolbar{display:grid;grid-template-columns:1fr 1fr;gap:0.4rem;}.toolbar-sep{display:none;}.toolbar-select{grid-column:1 / -1;}#exportBtn{grid-column:1 / -1;border:1.5px dashed var(--border);border-radius:8px;color:var(--text-light);font-size:0.82rem;}#exportBtn:hover{border-color:var(--primary);color:var(--primary);border-style:solid;}.toolbar-btn.bookmark-filter{grid-column:1 / -1;text-align:center;justify-content:center;border:1.5px solid var(--border);border-radius:999px;}}@media (max-width:768px){.export-panel{position:fixed;bottom:0;left:0;right:0;z-index:250;border-radius:16px 16px 0 0;padding:1.25rem 1.25rem calc(1.25rem + env(safe-area-inset-bottom,0px));box-shadow:0 -4px 24px rgba(0,0,0,0.15);margin:0;max-height:60vh;overflow-y:auto;}}@media (max-width:768px){html{scroll-padding-top:100px;}.search-box{top:3.5rem;z-index:49;}.practice-score{top:7rem;border-radius:0 0 var(--radius) var(--radius);z-index:48;}}@media (hover:none) and (pointer:coarse){.mc-opt:hover{background:transparent;}.mc-opt:active{background:rgba(99,102,241,0.08);}.answer-cell:hover{transform:none;box-shadow:none;}.answer-cell:active{transform:scale(0.95);transition-duration:0.1s;}.subject-card:hover{box-shadow:var(--shadow-sm);transform:none;}}@supports (padding:env(safe-area-inset-bottom)){@media (max-width:768px){.dark-toggle{bottom:calc(1.5rem + env(safe-area-inset-bottom));}.back-to-top{bottom:calc(1.5rem + env(safe-area-inset-bottom));}.hamburger{top:calc(1rem + env(safe-area-inset-top));}.main{padding-bottom:env(safe-area-inset-bottom);}}}@media (max-width:768px) and (orientation:landscape){.main{padding-top:3rem;}.stats-bar{flex-wrap:nowrap;}.page-title{font-size:1.2rem;margin-bottom:0.25rem;}.page-subtitle{margin-bottom:1rem;font-size:0.85rem;}.year-heading{font-size:1.05rem;margin-bottom:1rem;}.year-section{margin-bottom:2rem;}}.math-content{text-indent:0;padding-left:0;}.math-content .katex{font-size:1em;}.math-content .katex-display{margin:0.5em 0;overflow-x:auto;overflow-y:hidden;padding:0.25em 0;}.math-content .katex-display > .katex{text-align:left;}